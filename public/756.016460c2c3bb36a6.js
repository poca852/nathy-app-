"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[756],{6756:(fi,w,p)=>{p.r(w),p.d(w,{MainModule:()=>mi});var l=p(6895),c=p(5649),f=p(5439),e=p(8274),m=p(1557),_=p(7556),v=p(7932),A=p(7579),G=p(727);class B extends G.w0{constructor(o,t){super()}schedule(o,t=0){return this}}const S={setInterval(i,o,...t){const{delegate:n}=S;return n?.setInterval?n.setInterval(i,o,...t):setInterval(i,o,...t)},clearInterval(i){const{delegate:o}=S;return(o?.clearInterval||clearInterval)(i)},delegate:void 0};var E=p(8737);const Y={now:()=>(Y.delegate||Date).now(),delegate:void 0};class q{constructor(o,t=q.now){this.schedulerActionCtor=o,this.now=t}schedule(o,t=0,n){return new this.schedulerActionCtor(this,o).schedule(n,t)}}q.now=Y.now;const z=new class D extends q{constructor(o,t=q.now){super(o,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(o){const{actions:t}=this;if(this._active)return void t.push(o);let n;this._active=!0;do{if(n=o.execute(o.state,o.delay))break}while(o=t.shift());if(this._active=!1,n){for(;o=t.shift();)o.unsubscribe();throw n}}}(class V extends B{constructor(o,t){super(o,t),this.scheduler=o,this.work=t,this.pending=!1}schedule(o,t=0){if(this.closed)return this;this.state=o;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(o,t,n=0){return S.setInterval(o.flush.bind(o,this),n)}recycleAsyncId(o,t,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return t;S.clearInterval(t)}execute(o,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(o,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(o,t){let r,n=!1;try{this.work(o)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:o,scheduler:t}=this,{actions:n}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,E.P)(n,this),null!=o&&(this.id=this.recycleAsyncId(t,o,null)),this.delay=null,super.unsubscribe()}}});var $=p(4482),K=p(5403),a=p(433),h=p(1740);let W=(()=>{class i{constructor(t){this.fb=t,this.onEnter=new e.vpe,this.onDebounce=new e.vpe,this.placeholder="",this.debouncer=new A.x,this.form=this.fb.group({termino:[""]})}ngOnInit(){this.debouncer.pipe(function X(i,o=z){return(0,$.e)((t,n)=>{let r=null,s=null,u=null;const I=()=>{if(r){r.unsubscribe(),r=null;const y=s;s=null,n.next(y)}};function gi(){const y=u+i,H=o.now();if(H<y)return r=this.schedule(void 0,y-H),void n.add(r);I()}t.subscribe((0,K.x)(n,y=>{s=y,u=o.now(),r||(r=o.schedule(gi,i),n.add(r))},()=>{I(),n.complete()},void 0,()=>{s=r=null}))})}(300)).subscribe(t=>{this.onDebounce.emit(t)})}buscar(){this.onEnter.emit(this.form.get("termino").value)}teclaPresionada(){this.debouncer.next(this.form.get("termino").value)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-search"]],inputs:{placeholder:"placeholder"},outputs:{onEnter:"onEnter",onDebounce:"onDebounce"},decls:5,vars:2,consts:[[1,"main"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["type","text","pInputText","","name","terminoform","formControlName","termino",3,"placeholder","input"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.buscar()}),e.TgZ(2,"span",2),e._UZ(3,"i",3),e.TgZ(4,"input",4),e.NdJ("input",function(){return n.teclaPresionada()}),e.qZA()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(3),e.Q6J("placeholder",n.placeholder))},dependencies:[a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,h.o],styles:[".main[_ngcontent-%COMP%]{padding:10px;display:grid;justify-content:center;left:0;right:0;width:100%}"]}),i})();const ee=function(i){return["/main/pago",i]},te=function(){return{fontSize:"1.2em",fontWeight:"bold"}};function ie(i,o){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"p",4),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.TgZ(5,"p",5),e._uU(6),e.ALo(7,"currency"),e.qZA()(),e.TgZ(8,"div",6)(9,"p",7),e._uU(10),e.qZA(),e.TgZ(11,"p",8),e._uU(12),e.ALo(13,"currency"),e.qZA()(),e.TgZ(14,"p",9),e._uU(15),e.ALo(16,"number"),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("routerLink",e.VKq(20,ee,t.id)),e.xp6(2),e.Akn(e.DdM(22,te)),e.xp6(1),e.Oqu(e.lcZ(4,9,t.cliente.alias)),e.xp6(3),e.Oqu(e.xi3(7,11,t.valor_cuota,"$")),e.xp6(4),e.Oqu(t.fecha_inicio),e.xp6(2),e.Oqu(e.xi3(13,14,t.saldo,"$")),e.xp6(3),e.AsE("",e.xi3(16,17,t.saldo/t.valor_cuota,"1.2-2")," / ",t.total_cuotas,"")}}let ne=(()=>{class i{constructor(){this.creditos=[]}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-credito-table"]],inputs:{creditos:"creditos"},decls:2,vars:1,consts:[[1,"main"],["class","credito",3,"routerLink",4,"ngFor","ngForOf"],[1,"credito",3,"routerLink"],[1,"header"],[1,"alias"],[1,"v_cuota"],[1,"content"],[1,"fecha_inicio"],[1,"saldo"],[1,"c_pendientes"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ie,17,23,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.creditos))},dependencies:[l.sg,c.rH,l.JJ,l.rS,l.H9],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.credito[_ngcontent-%COMP%]{border:thin solid rgba(0,0,0,.2);border-radius:5px;padding:10px;display:flex;flex-direction:column;box-shadow:2px 2px 10px #0003;cursor:pointer}.header[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.v_cuota[_ngcontent-%COMP%]{color:#1da750;font-size:1.3em;font-weight:700}.c_pendientes[_ngcontent-%COMP%]{text-align:end}"]}),i})();function oe(i,o){if(1&i&&e._UZ(0,"app-credito-table",5),2&i){const t=e.oxw(2);e.Q6J("creditos",t.creditos)}}function re(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"app-search",3),e.NdJ("onDebounce",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.sugerencias(r))}),e.qZA(),e.YNc(2,oe,1,1,"app-credito-table",4),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.creditos.length>0)}}function ae(i,o){1&i&&(e.TgZ(0,"div",2)(1,"div",6),e._UZ(2,"p-progressSpinner"),e.qZA()())}function se(i,o){1&i&&(e.TgZ(0,"div",7)(1,"h3",8),e._uU(2,"Sin Resultados"),e.qZA()())}let le=(()=>{class i{get user(){return this.authService.user}constructor(t,n,r){this.mainService=t,this.router=n,this.authService=r,this.hayError=!1,this.creditos=[],this.hoy=f().utc(!0).format("DD/MM/YYYY"),this.loading=!1}ngOnInit(){this.loading=!0,this.mainService.getCreditos(!0,this.user.ruta).subscribe(t=>{this.creditos=this.creditosVerificados(t.creditos),this.loading=!1})}creditosVerificados(t){let n=[];return t.forEach(r=>{r.ultimo_pago?.includes(this.hoy)&&r.ultimo_pago||n.unshift(r)}),n}goTo(t){this.router.navigateByUrl(`/main/${t}`)}sugerencias(t){this.hayError=!1,this.mainService.getCreditoByName(t).subscribe(n=>{n.results.length>0?this.creditos=this.creditosVerificados(n.results):(this.creditos=[],this.hayError=!0)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(c.F0),e.Y36(_.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-rutero"]],decls:3,vars:3,consts:[["class","card",4,"ngIf"],["class","loading flex flex-column justify-content-center",4,"ngIf"],[1,"card"],["placeholder","Buscar Cliente",3,"onDebounce"],[3,"creditos",4,"ngIf"],[3,"creditos"],[1,"loading"],[1,"loading","flex","flex-column","justify-content-center"],[1,"text-layout"]],template:function(t,n){1&t&&(e.YNc(0,re,3,1,"div",0),e.YNc(1,ae,3,0,"div",0),e.YNc(2,se,3,0,"div",1)),2&t&&(e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",n.hayError))},dependencies:[l.O5,v.G,W,ne]}),i})();const ce=function(i){return["/main/renovar",i]};function pe(i,o){if(1&i&&(e.TgZ(0,"div",3)(1,"h3"),e._uU(2),e.ALo(3,"titlecase"),e.qZA()()),2&i){const t=o.$implicit;e.Q6J("routerLink",e.VKq(4,ce,t.id)),e.xp6(2),e.Oqu(e.lcZ(3,2,t.alias))}}function ue(i,o){1&i&&(e.TgZ(0,"h2"),e._uU(1,"Todos estan renovados"),e.qZA())}let de=(()=>{class i{get user(){return this.authService.user}constructor(t,n){this.mainService=t,this.authService=n,this.loading=!0}ngOnInit(){this.mainService.getClientes(!1,this.user.ruta).subscribe(t=>{this.clientes=t.clientes,this.loading=!1})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(_.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-renovaciones"]],decls:3,vars:2,consts:[[1,"card","flex","flex-column","justify-content-center","gap-1"],["class","flex justify-content-center align-content-center pointer",3,"routerLink",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"flex","justify-content-center","align-content-center","pointer",3,"routerLink"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,pe,4,6,"div",1),e.qZA(),e.YNc(2,ue,2,0,"h2",2)),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.clientes),e.xp6(1),e.Q6J("ngIf",!n.loading&&n.clientes.length<1))},dependencies:[l.sg,l.O5,c.rH,l.rS],encapsulation:2}),i})();var d=p(805),C=p(1795),g=p(5593),b=p(2453),x=p(1493);function me(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8),e._UZ(2,"button",9),e.TgZ(3,"h2",10),e._uU(4,"Nuevo Cliente"),e.qZA()(),e.TgZ(5,"form",11),e.NdJ("submit",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogClienteNuevo=!0)}),e.TgZ(6,"div",12),e._UZ(7,"input",13)(8,"input",14)(9,"input",15)(10,"input",16)(11,"input",17)(12,"input",18),e.TgZ(13,"div",19),e._UZ(14,"button",20),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.formCliente),e.xp6(9),e.Q6J("disabled",t.formCliente.invalid)}}function ge(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1," Esta seguro de agregar a "),e.TgZ(2,"b"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e._uU(5,"? "),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,1,t.formCliente.get("nombre").value))}}function fe(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1," Antes de continuar por favor terminar de llenar el formulario "),e.qZA())}function _e(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogClienteNuevo=!1)}),e.qZA(),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmarClienteNuevo())}),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.loading)}}function ve(i,o){1&i&&(e.TgZ(0,"div",23)(1,"div",24),e._UZ(2,"p-progressSpinner"),e.qZA()())}const he=function(){return{width:"350px"}};let Ce=(()=>{class i{get user(){return this.authService.user}constructor(t,n,r,s,u){this.mainService=t,this.router=n,this.fb=r,this.authService=s,this.messageService=u,this.loading=!0,this.dialogClienteNuevo=!1,this.formCliente=this.fb.group({dpi:["",[a.kI.required]],nombre:["",[a.kI.required]],alias:["",[a.kI.required]],ciudad:["",[a.kI.required]],direccion:["",[a.kI.required]],telefono:["",[a.kI.required]],idRuta:["",[a.kI.required]]})}ngOnInit(){this.formCliente.reset({idRuta:this.user.ruta}),this.loading=!1}guardar(){this.mainService.addCliente(this.formCliente.value).subscribe(t=>{!0===t.ok?this.router.navigateByUrl(`/main/renovar/${t.cliente.id}`):(this.dialogClienteNuevo=!1,this.loading=!1,this.messageService.add({severity:"error",summary:"Alerta",detail:t.error.msg,life:3e3}))})}confirmarClienteNuevo(){if(!this.formCliente.valid)return this.dialogClienteNuevo=!1,this.messageService.add({severity:"warn",summary:"Alerta",detail:"Complete el formulario",life:3e3});this.loading=!0,this.guardar()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(c.F0),e.Y36(a.qu),e.Y36(_.e),e.Y36(d.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cliente-nuevo"]],features:[e._Bn([d.ez])],decls:9,vars:9,consts:[["class","card flex flex-column",4,"ngIf"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["class","card",4,"ngIf"],[1,"card","flex","flex-column"],[1,"header","flex","flex-wrap","flex-row","justify-content-between"],["pButton","","icon","pi pi-arrow-left","label","Volver","routerLink","/main/rutero",1,"p-button-text","p-button-secondary"],[1,"text-layout"],["autocomplete","off",3,"formGroup","submit"],[1,"flex","flex-column","justify-content-center","gap-2"],["type","text","pInputText","","placeholder","Documento","formControlName","dpi"],["type","text","pInputText","","placeholder","Nombre","formControlName","nombre"],["type","text","pInputText","","placeholder","Alias","formControlName","alias"],["type","text","pInputText","","formControlName","ciudad","placeholder","Ciudad"],["type","text","pInputText","","formControlName","direccion","placeholder","Direccion"],["type","text","pInputText","","formControlName","telefono","placeholder","Telefono"],[1,"flex","justify-content-center"],["pButton","","label","Guardar","icon","pi pi-check","type","submit",1,"col-12",3,"disabled"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"disabled","click"],[1,"card"],[1,"loading"]],template:function(t,n){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,me,15,2,"div",0),e.TgZ(2,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.dialogClienteNuevo=s}),e.TgZ(3,"div",2),e._UZ(4,"i",3),e.YNc(5,ge,6,3,"span",4),e.YNc(6,fe,2,0,"span",4),e.qZA(),e.YNc(7,_e,2,1,"ng-template",5),e.qZA(),e.YNc(8,ve,3,0,"div",6)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Akn(e.DdM(8,he)),e.Q6J("visible",n.dialogClienteNuevo)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.formCliente.get("nombre").value),e.xp6(1),e.Q6J("ngIf",!n.formCliente.get("nombre").value),e.xp6(2),e.Q6J("ngIf",n.loading))},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,c.rH,d.jx,C.H,h.o,g.Hq,b.FN,v.G,x.V,l.rS],encapsulation:2}),i})();var k=p(3900),N=p(613),J=p(6125),M=p(5108),O=p(666);function xe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div"),e._UZ(2,"p-dropdown",2),e.qZA(),e.TgZ(3,"div")(4,"button",3),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.pagar())}),e.qZA()()()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("options",t.pago)("formControl",t.pagoSeleccionado),e.xp6(2),e.Q6J("disabled",t.loading)}}let be=(()=>{class i{constructor(t,n,r){this.fb=t,this.mainService=n,this.router=r,this.loading=!1,this.pagoSeleccionado=this.fb.control(null,a.kI.required),this.pago=[]}ngOnInit(){this.pago=this.buildPago(this.credito.total_cuotas,this.credito.valor_cuota),this.pagoSeleccionado.reset(this.credito.valor_cuota)}buildPago(t,n){let r=[];for(let s=0;s<t;s++)r.push({cuotas:s+1,valor:n*(s+1)});return r}pagar(){this.loading=!0;let t={valor:this.pagoSeleccionado.value,fecha:f().utc(!0).format("DD/MM/YYYY hh:mm a")};this.mainService.addPago(t,this.credito.id).subscribe(n=>{n.ok&&(this.router.navigateByUrl("/main"),this.loading=!1),this.loading=!1})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(m.J),e.Y36(c.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pago-fijo"]],inputs:{credito:"credito"},decls:1,vars:1,consts:[["class","flex flex-row justify-content-center",4,"ngIf"],[1,"flex","flex-row","justify-content-center"],["optionValue","valor","optionLabel","cuotas",3,"options","formControl"],["pButton","","label","Pagar",3,"disabled","click"]],template:function(t,n){1&t&&e.YNc(0,xe,5,3,"div",0),2&t&&e.Q6J("ngIf",n.credito)},dependencies:[l.O5,a.JJ,a.oH,g.Hq,O.Lt]}),i})();function Ze(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"input",2),e.TgZ(2,"button",3),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.pagar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formControl",t.pago)("min",1),e.xp6(1),e.Q6J("disabled",t.loading)}}let Te=(()=>{class i{constructor(t,n,r){this.fb=t,this.mainService=n,this.router=r,this.pago=this.fb.control(null,[a.kI.required,a.kI.min(1)]),this.loading=!1}ngOnInit(){}pagar(){if(this.pago.valid){this.loading=!0;let t={valor:this.pago.value,fecha:f().utc(!0).format("DD/MM/YYYY hh:mm a")};this.mainService.addPago(t,this.credito.id).subscribe(n=>{n.ok&&(this.router.navigateByUrl("/main"),this.loading=!1),this.loading=!1})}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(m.J),e.Y36(c.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pago-variable"]],inputs:{credito:"credito"},decls:1,vars:1,consts:[["class","flex flex-row align-items-center justify-content-center gap-2",4,"ngIf"],[1,"flex","flex-row","align-items-center","justify-content-center","gap-2"],["type","number","placeholder","Ingresa el pago","pInputText","",3,"formControl","min"],["pButton","","label","Pagar",3,"disabled","click"]],template:function(t,n){1&t&&e.YNc(0,Ze,3,3,"div",0),2&t&&e.Q6J("ngIf",n.credito)},dependencies:[l.O5,a.Fj,a.wV,a.JJ,a.qQ,a.oH,h.o,g.Hq],styles:["@media (max-width: 960px){div[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-wrap:wrap}div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], div[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}}"]}),i})();function ye(i,o){if(1&i&&(e.TgZ(0,"div",9)(1,"div",7),e._uU(2,"Observaciones"),e.qZA(),e.TgZ(3,"div",5),e._uU(4),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(4),e.Oqu(t.credito.notas)}}function Ae(i,o){if(1&i&&e._UZ(0,"app-pago-fijo",26),2&i){const t=e.oxw(2);e.Q6J("credito",t.credito)}}function qe(i,o){if(1&i&&e._UZ(0,"app-pago-variable",26),2&i){const t=e.oxw(2);e.Q6J("credito",t.credito)}}function Se(i,o){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Fecha"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Valor"),e.qZA()())}function ke(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.fecha),e.xp6(2),e.Oqu(e.xi3(5,2,t.valor,"$"))}}const Ue=function(i){return["/main/cliente",i]};function Ie(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"a",6)(5,"h3"),e._uU(6),e.ALo(7,"titlecase"),e.qZA()()(),e.TgZ(8,"div",7),e._UZ(9,"button",8),e.qZA()(),e.TgZ(10,"div",9)(11,"div",5),e._UZ(12,"hr"),e.qZA()(),e.TgZ(13,"div",10)(14,"div",9)(15,"div",7),e._uU(16,"Prestado"),e.qZA(),e.TgZ(17,"div",5),e._uU(18),e.ALo(19,"currency"),e.qZA()(),e.TgZ(20,"div",9)(21,"div",7),e._uU(22,"Total a Pagar"),e.qZA(),e.TgZ(23,"div",5),e._uU(24),e.ALo(25,"currency"),e.qZA()(),e.TgZ(26,"div",9)(27,"div",7),e._uU(28,"Abonos"),e.qZA(),e.TgZ(29,"div",5),e._uU(30),e.ALo(31,"currency"),e.qZA()(),e.TgZ(32,"div",9)(33,"div",7),e._uU(34,"Saldo"),e.qZA(),e.TgZ(35,"div",5),e._uU(36),e.ALo(37,"currency"),e.qZA()(),e.TgZ(38,"div",9)(39,"div",7),e._uU(40,"Fecha"),e.qZA(),e.TgZ(41,"div",5),e._uU(42),e.qZA()(),e.TgZ(43,"div",9)(44,"div",7),e._uU(45,"Valor Cuota"),e.qZA(),e.TgZ(46,"div",5),e._uU(47),e.ALo(48,"currency"),e.qZA()(),e.TgZ(49,"div",9)(50,"div",7),e._uU(51,"Cuotas Pendientes"),e.qZA(),e.TgZ(52,"div",5),e._uU(53),e.ALo(54,"number"),e.qZA()(),e.YNc(55,ye,5,1,"div",11),e.qZA(),e.TgZ(56,"div",12)(57,"div",9)(58,"div",5),e._uU(59,"Pago:"),e.qZA(),e.TgZ(60,"div",5)(61,"div",13),e._UZ(62,"p-radioButton",14),e.TgZ(63,"label",15),e._uU(64,"Fijo"),e.qZA()()(),e.TgZ(65,"div",5)(66,"div",13),e._UZ(67,"p-radioButton",16),e.TgZ(68,"label",17),e._uU(69,"Variable"),e.qZA()()(),e.TgZ(70,"div",5)(71,"button",18),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.noPago())}),e.qZA()()(),e.TgZ(72,"div"),e.YNc(73,Ae,1,1,"app-pago-fijo",19),e.YNc(74,qe,1,1,"app-pago-variable",19),e.qZA()(),e._UZ(75,"p-divider"),e.TgZ(76,"div",20)(77,"div",21)(78,"h3"),e._uU(79,"Historial"),e.qZA(),e._UZ(80,"hr"),e.qZA(),e.TgZ(81,"div",22)(82,"p-table",23),e.YNc(83,Se,5,0,"ng-template",24),e.YNc(84,ke,6,5,"ng-template",25),e.qZA()()()()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("routerLink",e.VKq(36,Ue,t.credito.cliente._id)),e.xp6(2),e.Oqu(e.lcZ(7,16,t.credito.cliente.nombre)),e.xp6(12),e.Oqu(e.xi3(19,18,t.credito.valor_credito,"$")),e.xp6(6),e.Oqu(e.xi3(25,21,t.credito.total_pagar,"$")),e.xp6(6),e.Oqu(e.xi3(31,24,t.credito.abonos,"$")),e.xp6(6),e.Oqu(e.xi3(37,27,t.credito.saldo,"$")),e.xp6(6),e.Oqu(t.credito.fecha_inicio),e.xp6(5),e.Oqu(e.xi3(48,30,t.credito.valor_cuota,"$")),e.xp6(6),e.Oqu(e.xi3(54,33,t.credito.saldo/t.credito.valor_cuota,"1.2-2")),e.xp6(2),e.Q6J("ngIf",t.credito.notas),e.xp6(7),e.Q6J("formControl",t.pagoSeleccionado),e.xp6(5),e.Q6J("formControl",t.pagoSeleccionado),e.xp6(4),e.Q6J("disabled",t.cargando),e.xp6(2),e.Q6J("ngIf","fijo"===t.pagoSeleccionado.value),e.xp6(1),e.Q6J("ngIf","variable"===t.pagoSeleccionado.value),e.xp6(8),e.Q6J("value",t.credito.pagos)}}function Je(i,o){1&i&&(e.TgZ(0,"div",27),e._UZ(1,"p-progressSpinner"),e.qZA())}let Me=(()=>{class i{constructor(t,n,r,s){this.activatedRoute=t,this.mainService=n,this.fb=r,this.router=s,this.pagoSeleccionado=this.fb.control(""),this.formaPago=[{name:"fijo",key:"A"},{name:"variable",key:"b"}],this.cargando=!1}ngOnInit(){this.activatedRoute.params.pipe((0,k.w)(({id:t})=>this.mainService.getCredito(t))).subscribe(({credito:t})=>{this.credito=t}),this.pagoSeleccionado.reset("fijo")}noPago(){this.cargando=!0,this.mainService.addPago({fecha:f().utc(!0).format("DD/MM/YYYY hh:mm a"),valor:0},this.credito.id).subscribe(t=>{t.ok?(this.router.navigateByUrl("/main"),this.cargando=!1):this.cargando=!1})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.gz),e.Y36(m.J),e.Y36(a.qu),e.Y36(c.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pago"]],decls:3,vars:2,consts:[["class","card p-3",4,"ngIf","ngIfElse"],["loading",""],[1,"card","p-3"],[1,"card-container","overflow-hidden","flex","flex-column","gap-1","justify-content-center"],[1,"header","grid","flex","align-items-center"],[1,"col"],[1,"text-layout",3,"routerLink"],[1,"col","flex","justify-content-end"],["pButton","","icon","pi pi-arrow-left","label","Volver","routerLink","['/main/rutero']",1,"p-button-danger","p-button-sm","p-button-outlined"],[1,"grid"],[1,"info"],["class","grid",4,"ngIf"],[1,"footer","mt-2"],[1,"field-radiobutton"],["name","tipopago","value","fijo","inputId","fijo",3,"formControl"],["for","fijo"],["name","tipopago","value","variable","inputId","variable",3,"formControl"],["for","variable"],["pButton","","label","No Pago",1,"p-button-danger",3,"disabled","click"],[3,"credito",4,"ngIf"],[1,"historial","mt-3"],[1,"title"],[1,"table"],["responsiveLayout","scroll","styleClass","p-datatable-striped",3,"value"],["pTemplate","header"],["pTemplate","body"],[3,"credito"],[1,"loading"]],template:function(t,n){if(1&t&&(e.YNc(0,Ie,85,38,"div",0),e.YNc(1,Je,2,0,"ng-template",null,1,e.W1O)),2&t){const r=e.MAs(2);e.Q6J("ngIf",n.credito)("ngIfElse",r)}},dependencies:[l.O5,a.JJ,a.oH,c.rH,d.jx,g.Hq,N.EU,J.iA,v.G,M.i,be,Te,l.JJ,l.rS,l.H9],encapsulation:2}),i})(),we=(()=>{class i{constructor(){this.loading=!0}ngOnInit(){this.loading=!1}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-oficina"]],decls:9,vars:0,consts:[[1,"card"],[1,"grid"],["routerLink","/main/oficina/inversiones","routerLinkActive","active",1,"col","flex","justify-content-center","flex-wrap","border-white","border-500","surface-overlay"],[1,"pi","pi-chart-line","tet-layout","pointer"],["routerLink","/main/oficina/gastos","routerLinkActive","active",1,"col","flex","justify-content-center","border-white","border-500","surface-overlay"],[1,"pi","pi-wallet","pointer"],["routerLink","/main/oficina/retiros","routerLinkActive","active",1,"col","flex","justify-content-center","border-white","border-500","surface-overlay"],[1,"pi","pi-send","pointer"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"i",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"i",5),e.qZA(),e.TgZ(6,"div",6),e._UZ(7,"i",7),e.qZA()(),e._UZ(8,"router-outlet"),e.qZA())},dependencies:[c.lC,c.rH,c.Od],styles:[".main[_ngcontent-%COMP%]{margin-top:60px}.active[_ngcontent-%COMP%]{color:#4f46e5}.pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),i})(),Ye=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-credito"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"credito works!"),e.qZA())}}),i})();var Ne=p(4004),Oe=p(7501);function je(i,o){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Fecha"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"valor"),e.qZA()())}function Le(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.fecha),e.xp6(2),e.Oqu(e.xi3(5,2,t.valor,"GTQ"))}}let j=(()=>{class i{get user(){return this.authService.user}constructor(t,n){this.mainService=t,this.authService=n,this.idCliente="",this.idCredito="",this.pagos=[],this.fecha=f().utc(!0).format("DD/MM/YYYY")}ngOnInit(){this.mainService.getPagos(this.idCliente,this.idCredito).subscribe(t=>{t.ok&&(this.pagos=t.pagos)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(_.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-historial-pagos"]],inputs:{idCliente:"idCliente",idCredito:"idCredito"},decls:3,vars:1,consts:[["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"]],template:function(t,n){1&t&&(e.TgZ(0,"p-table",0),e.YNc(1,je,5,0,"ng-template",1),e.YNc(2,Le,6,5,"ng-template",2),e.qZA()),2&t&&e.Q6J("value",n.pagos)},dependencies:[d.jx,J.iA,l.H9]}),i})();function Fe(i,o){if(1&i&&(e.TgZ(0,"form",14)(1,"div",15)(2,"label",16),e._uU(3,"Dpi"),e.qZA(),e._UZ(4,"input",17),e.qZA(),e.TgZ(5,"div",15)(6,"label",18),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",19),e.qZA(),e.TgZ(9,"div",15)(10,"label",20),e._uU(11,"Alias"),e.qZA(),e._UZ(12,"input",21),e.qZA(),e.TgZ(13,"div",15)(14,"label",22),e._uU(15,"Ciudad"),e.qZA(),e._UZ(16,"input",23),e.qZA(),e.TgZ(17,"div",15)(18,"label",24),e._uU(19,"Direccion"),e.qZA(),e._UZ(20,"input",25),e.qZA(),e.TgZ(21,"div",15)(22,"label",26),e._uU(23,"Telefono"),e.qZA(),e._UZ(24,"input",27),e.qZA()()),2&i){const t=e.oxw(2);e.Q6J("formGroup",t.formCliente)}}function Qe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",28),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.hideDialog())}),e.qZA(),e.TgZ(1,"button",29),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.actualizarCliente())}),e.qZA()}}const Re=function(){return{width:"450px"}};function Pe(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3),e._UZ(3,"button",4),e.qZA(),e.TgZ(4,"h3"),e._uU(5),e.ALo(6,"titlecase"),e.TgZ(7,"i",5),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.diaglogCliente=!r.diaglogCliente)}),e.qZA()()(),e.TgZ(8,"p-dialog",6),e.NdJ("visibleChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.diaglogCliente=r)}),e.YNc(9,Fe,25,1,"ng-template",7),e.YNc(10,Qe,2,0,"ng-template",8),e.qZA(),e.TgZ(11,"div",9)(12,"div",10)(13,"div",11),e._uU(14,"Alias"),e.qZA(),e.TgZ(15,"div",11),e._uU(16),e.ALo(17,"titlecase"),e.qZA()(),e.TgZ(18,"div",10)(19,"div",11),e._uU(20,"Ciudad"),e.qZA(),e.TgZ(21,"div",11),e._uU(22),e.ALo(23,"titlecase"),e.qZA()(),e.TgZ(24,"div",10)(25,"div",11),e._uU(26,"Direccion"),e.qZA(),e.TgZ(27,"div",11),e._uU(28),e.ALo(29,"titlecase"),e.qZA()(),e.TgZ(30,"div",10)(31,"div",11),e._uU(32,"Telefono"),e.qZA(),e.TgZ(33,"div",11)(34,"a",12),e._uU(35),e.qZA()()(),e.TgZ(36,"div",10)(37,"div",11),e._uU(38,"Documento"),e.qZA(),e.TgZ(39,"div",11),e._uU(40),e.qZA()(),e.TgZ(41,"div")(42,"h4"),e._uU(43,"Credito Actual"),e.qZA()(),e.TgZ(44,"div",10)(45,"div",11),e._uU(46,"Fecha Inicio"),e.qZA(),e.TgZ(47,"div",11),e._uU(48),e.qZA()(),e.TgZ(49,"div",10)(50,"div",11),e._uU(51,"Valor Credito"),e.qZA(),e.TgZ(52,"div",11),e._uU(53),e.ALo(54,"currency"),e.qZA()(),e.TgZ(55,"div",10)(56,"div",11),e._uU(57,"Abonos"),e.qZA(),e.TgZ(58,"div",11),e._uU(59),e.ALo(60,"currency"),e.qZA()(),e.TgZ(61,"div",10)(62,"div",11),e._uU(63,"Saldo"),e.qZA(),e.TgZ(64,"div",11),e._uU(65),e.ALo(66,"currency"),e.qZA()(),e.TgZ(67,"div",10)(68,"div",11),e._uU(69,"Valor Cuota"),e.qZA(),e.TgZ(70,"div",11),e._uU(71),e.ALo(72,"currency"),e.qZA()()(),e._UZ(73,"p-divider"),e.TgZ(74,"div")(75,"h3"),e._uU(76,"Historial de pagos"),e.qZA(),e._UZ(77,"app-historial-pagos",13),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(5),e.hij(" ",e.lcZ(6,18,t.cliente.nombre)," "),e.xp6(3),e.Akn(e.DdM(38,Re)),e.Q6J("visible",t.diaglogCliente)("modal",!0),e.xp6(8),e.Oqu(e.lcZ(17,20,t.cliente.alias)),e.xp6(6),e.Oqu(e.lcZ(23,22,t.cliente.ciudad)),e.xp6(6),e.Oqu(e.lcZ(29,24,t.cliente.direccion)),e.xp6(6),e.MGl("href","tel:",t.cliente.telefono,"",e.LSH),e.xp6(1),e.Oqu(t.cliente.telefono),e.xp6(5),e.Oqu(t.cliente.dpi),e.xp6(8),e.hij(" ",t.cliente.creditos[0].fecha_inicio," "),e.xp6(5),e.hij(" ",e.xi3(54,26,t.cliente.creditos[0].valor_credito,"$")," "),e.xp6(6),e.hij(" ",e.xi3(60,29,t.cliente.creditos[0].abonos,"$")," "),e.xp6(6),e.hij(" ",e.xi3(66,32,t.cliente.creditos[0].saldo,"$")," "),e.xp6(6),e.hij(" ",e.xi3(72,35,t.cliente.creditos[0].valor_cuota,"$")," "),e.xp6(6),e.Q6J("idCliente",t.cliente.id)("idCredito",t.cliente.creditos[0]._id)}}let He=(()=>{class i{constructor(t,n,r,s,u,I){this.mainService=t,this.router=n,this.activatedRouter=r,this.fb=s,this.messageService=u,this.adminService=I,this.diaglogCliente=!1,this.formCliente=this.fb.group({dpi:["",a.kI.required],nombre:["",a.kI.required],alias:["",a.kI.required],ciudad:["",a.kI.required],direccion:["",a.kI.required],telefono:["",a.kI.required]})}ngOnInit(){this.activatedRouter.params.pipe((0,k.w)(({id:t})=>this.mainService.getCliente(t)),(0,Ne.U)(t=>t.cliente)).subscribe(t=>{this.cliente=t,this.formCliente.reset({dpi:this.cliente.dpi,nombre:this.cliente.nombre,alias:this.cliente.alias,ciudad:this.cliente.ciudad,direccion:this.cliente.direccion,telefono:this.cliente.telefono})})}hideDialog(){this.diaglogCliente=!1}actualizarCliente(){this.formCliente.valid&&this.adminService.updateCliente(this.cliente.id,this.formCliente.value).subscribe(t=>{t&&(this.diaglogCliente=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Cliente actualizado",life:2100}),this.mainService.getCliente(this.cliente.id).subscribe(n=>this.cliente=n.cliente))})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(c.F0),e.Y36(c.gz),e.Y36(a.qu),e.Y36(d.ez),e.Y36(Oe.l))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-cliente"]],features:[e._Bn([d.ez])],decls:2,vars:1,consts:[["class","card flex flex-column gap-1",4,"ngIf"],[1,"card","flex","flex-column","gap-1"],[1,"flex","flex-column"],[1,"flex","flex-row","justify-content-start"],["pButton","","label","Volver","icon","pi pi-arrow-left","routerLink","/main/verificados",1,"p-button-text"],[1,"pi","pi-pencil","pointer",3,"click"],["header","Actualizar Cliente",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],[1,"flex","flex-column","justify-content-center"],[1,"grid"],[1,"col"],[1,"text-layout",3,"href"],[3,"idCliente","idCredito"],[3,"formGroup"],[1,"field"],["for","dpi"],["type","text","pInputText","","formControlName","dpi","id","dpi"],["for","nombre"],["type","text","pInputText","","formControlName","nombre","id","nombre"],["for","alias"],["type","text","pInputText","","formControlName","alias","id","alias"],["for","ciudad"],["type","text","pInputText","","formControlName","ciudad","id","ciudad"],["for","direccion"],["type","text","pInputText","","formControlName","direccion","id","direccion"],["for","telefono"],["type","text","pInputText","","formControlName","telefono","id","telefono"],["pButton","","label","Cancelar","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","label","Guardar","icon","pi pi-check",1,"p-button-text",3,"click"]],template:function(t,n){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,Pe,78,39,"div",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.cliente))},dependencies:[l.O5,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,c.rH,d.jx,h.o,g.Hq,b.FN,x.V,M.i,j,l.rS,l.H9]}),i})();function Ge(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div",8)(2,"div",9)(3,"div",10),e._uU(4,"Nombre: "),e.qZA(),e.TgZ(5,"div",11),e._uU(6),e.ALo(7,"titlecase"),e.qZA()(),e.TgZ(8,"div",9)(9,"div",10),e._uU(10,"Fecha: "),e.qZA(),e.TgZ(11,"div",11),e._uU(12),e.qZA()(),e.TgZ(13,"div",9)(14,"div",10),e._uU(15,"Base: "),e.qZA(),e.TgZ(16,"div",11),e._uU(17),e.ALo(18,"currency"),e.qZA()(),e.TgZ(19,"div",9)(20,"div",10),e._uU(21,"Inversion: "),e.qZA(),e.TgZ(22,"div",11),e._uU(23),e.ALo(24,"currency"),e.qZA()(),e.TgZ(25,"div",9)(26,"div",10),e._uU(27,"Retiro: "),e.qZA(),e.TgZ(28,"div",11),e._uU(29),e.ALo(30,"currency"),e.qZA()(),e.TgZ(31,"div",9)(32,"div",10),e._uU(33,"Gastos: "),e.qZA(),e.TgZ(34,"div",11),e._uU(35),e.ALo(36,"currency"),e.qZA()(),e.TgZ(37,"div",9)(38,"div",10),e._uU(39,"Pretendido: "),e.qZA(),e.TgZ(40,"div",11),e._uU(41),e.ALo(42,"currency"),e.qZA()(),e.TgZ(43,"div",9)(44,"div",10),e._uU(45,"Extra: "),e.qZA(),e.TgZ(46,"div",11),e._uU(47),e.ALo(48,"currency"),e.qZA()(),e.TgZ(49,"div",9)(50,"div",10),e._uU(51,"Cobro: "),e.qZA(),e.TgZ(52,"div",11),e._uU(53),e.ALo(54,"currency"),e.qZA()(),e.TgZ(55,"div",9)(56,"div",10),e._uU(57,"Prestamo: "),e.qZA(),e.TgZ(58,"div",11),e._uU(59),e.ALo(60,"currency"),e.qZA()(),e.TgZ(61,"div",9)(62,"div",10),e._uU(63,"Clientes: "),e.qZA(),e.TgZ(64,"div",11),e._uU(65),e.qZA()(),e.TgZ(66,"div",9)(67,"div",10),e._uU(68,"C. Pendientes: "),e.qZA(),e.TgZ(69,"div",11),e._uU(70),e.qZA()(),e.TgZ(71,"div",9)(72,"div",10),e._uU(73,"Renovaciones: "),e.qZA(),e.TgZ(74,"div",11),e._uU(75),e.qZA()(),e.TgZ(76,"div",9)(77,"div",10),e._uU(78,"Efectividad: "),e.qZA(),e.TgZ(79,"div",11),e._uU(80),e.ALo(81,"number"),e.qZA()(),e.TgZ(82,"div",9)(83,"div",10),e._uU(84,"Caja final: "),e.qZA(),e.TgZ(85,"div",11),e._uU(86),e.ALo(87,"currency"),e.qZA()(),e.TgZ(88,"div",12)(89,"button",13),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoCerrar=!0)}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(6),e.Oqu(e.lcZ(7,15,t.caja.ruta.nombre)),e.xp6(6),e.Oqu(t.caja.fecha),e.xp6(5),e.Oqu(e.xi3(18,17,t.caja.base,"$")),e.xp6(6),e.Oqu(e.xi3(24,20,t.caja.inversion,"$")),e.xp6(6),e.Oqu(e.xi3(30,23,t.caja.retiro,"$")),e.xp6(6),e.Oqu(e.xi3(36,26,t.caja.gasto,"$")),e.xp6(6),e.Oqu(e.xi3(42,29,t.caja.pretendido,"$")),e.xp6(6),e.Oqu(e.xi3(48,32,t.caja.extra,"$")),e.xp6(6),e.Oqu(e.xi3(54,35,t.caja.cobro,"$")),e.xp6(6),e.Oqu(e.xi3(60,38,t.caja.prestamo,"$")),e.xp6(6),e.Oqu(t.caja.total_clientes),e.xp6(5),e.Oqu(t.caja.clientes_pendientes),e.xp6(5),e.Oqu(t.caja.renovaciones),e.xp6(5),e.hij("",e.xi3(81,41,100*t.caja.cobro/t.caja.pretendido,"1.2-2")," %"),e.xp6(6),e.Oqu(e.xi3(87,44,t.caja.caja_final,"$"))}}function Be(i,o){1&i&&(e.TgZ(0,"span"),e._uU(1,"\xbfEsta seguro de cerrar la ruta?"),e.qZA())}function Ee(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoCerrar=!1)}),e.qZA(),e.TgZ(1,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmCerrarRuta())}),e.qZA()}}function Ve(i,o){1&i&&(e.TgZ(0,"div",7)(1,"div",16),e._UZ(2,"p-progressSpinner"),e.qZA()())}const De=function(){return{width:"350px"}};let ze=(()=>{class i{get user(){return this.authService.user}constructor(t,n,r){this.mainService=t,this.router=n,this.authService=r,this.hoy=f().utc(!0).format("DD/MM/YYYY"),this.loading=!0,this.dialogoCerrar=!1}ngOnInit(){this.mainService.getCaja(this.user.ruta,this.hoy).subscribe(t=>{t.ok?(this.caja=t.caja,this.loading=!1):this.authService.logout()})}cerrarRuta(){this.mainService.closeRuta(this.user.ruta,this.hoy).subscribe(t=>{t?(this.authService.logout(),this.router.navigateByUrl("auth")):this.loading=!1})}confirmCerrarRuta(){this.loading=!0,this.cerrarRuta()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(c.F0),e.Y36(_.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-caja"]],decls:8,vars:8,consts:[["class","card",4,"ngIf","ngIfElse"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["loading",""],[1,"card"],[1,"flex","flex-column","justify-content-center"],[1,"grid"],[1,"col","flex","justify-content-end"],[1,"col"],[1,"grid","mt-2"],["pButton","","label","Cerrar Ruta",1,"col",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No, Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si, Cerrar",1,"p-button-text",3,"click"],[1,"loading"]],template:function(t,n){if(1&t&&(e.YNc(0,Ge,90,47,"div",0),e.TgZ(1,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.dialogoCerrar=s}),e.TgZ(2,"div",2),e._UZ(3,"i",3),e.YNc(4,Be,2,0,"span",4),e.qZA(),e.YNc(5,Ee,2,0,"ng-template",5),e.qZA(),e.YNc(6,Ve,3,0,"ng-template",null,6,e.W1O)),2&t){const r=e.MAs(7);e.Q6J("ngIf",n.caja)("ngIfElse",r),e.xp6(1),e.Akn(e.DdM(7,De)),e.Q6J("visible",n.dialogoCerrar)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.caja)}},dependencies:[l.O5,d.jx,C.H,g.Hq,v.G,x.V,l.JJ,l.rS,l.H9],encapsulation:2}),i})();function $e(i,o){if(1&i&&(e.TgZ(0,"p",12),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.valor,"$"))}}function Ke(i,o){1&i&&(e.TgZ(0,"p",13),e._uU(1,"NO PAGO"),e.qZA())}const Xe=function(i){return["/main/pago/editar",i]},We=function(){return{fontSize:"1.2em",fontWeight:"bold"}};function et(i,o){if(1&i&&(e.TgZ(0,"div",4)(1,"div",5)(2,"p",6),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e.YNc(5,$e,3,4,"p",7),e.YNc(6,Ke,2,0,"p",8),e.qZA(),e.TgZ(7,"div",9)(8,"p",10),e._uU(9),e.qZA(),e.TgZ(10,"p",11),e._uU(11),e.ALo(12,"currency"),e.qZA()()()),2&i){const t=o.$implicit;e.Q6J("routerLink",e.VKq(13,Xe,t.id)),e.xp6(2),e.Akn(e.DdM(15,We)),e.xp6(1),e.Oqu(e.lcZ(4,8,t.cliente.alias)),e.xp6(2),e.Q6J("ngIf",t.valor>0),e.xp6(1),e.Q6J("ngIf",0===t.valor),e.xp6(3),e.Oqu(t.fecha),e.xp6(2),e.Oqu(e.xi3(12,10,t.credito.saldo,"$"))}}function tt(i,o){if(1&i&&(e.TgZ(0,"div",1)(1,"div",2),e.YNc(2,et,13,16,"div",3),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.pagos)}}function it(i,o){1&i&&(e.TgZ(0,"div",1)(1,"div",14),e._UZ(2,"p-progressSpinner"),e.qZA()())}let nt=(()=>{class i{get user(){return this.authService.user}constructor(t,n){this.mainService=t,this.authService=n,this.pagos=[],this.hoy=f().utc(!0).format("DD/MM/YYYY"),this.loading=!0}ngOnInit(){this.mainService.getAllPagos(this.user.ruta,this.hoy).subscribe(t=>{this.loading=!1,this.pagos=t.pagos})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(_.e))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-verificados"]],decls:2,vars:2,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"main"],["class","credito pointer",3,"routerLink",4,"ngFor","ngForOf"],[1,"credito","pointer",3,"routerLink"],[1,"header"],[1,"alias"],["class","v_cuota",4,"ngIf"],["class","v_cuota no_pago",4,"ngIf"],[1,"content"],[1,"fecha_inicio"],[1,"saldo"],[1,"v_cuota"],[1,"v_cuota","no_pago"],[1,"loading"]],template:function(t,n){1&t&&(e.YNc(0,tt,3,1,"div",0),e.YNc(1,it,3,0,"div",0)),2&t&&(e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[l.sg,l.O5,c.rH,v.G,l.rS,l.H9],styles:[".main[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:5px}.credito[_ngcontent-%COMP%]{border:thin solid rgba(0,0,0,.2);border-radius:5px;padding:10px;display:flex;flex-direction:column;box-shadow:2px 2px 10px #0003}.header[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.v_cuota[_ngcontent-%COMP%]{color:#1da750;font-size:1.3em;font-weight:700}.no_pago[_ngcontent-%COMP%]{color:#dc2626}"]}),i})();var ot=p(5362),U=p(3054);function rt(i,o){1&i&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Fecha"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Valor"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Ultimo Pago"),e.qZA()())}function at(i,o){if(1&i&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.ALo(5,"currency"),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.Oqu(t.fecha_inicio),e.xp6(2),e.Oqu(e.xi3(5,3,t.valor_credito,"GTQ")),e.xp6(3),e.Oqu(t.ultimo_pago)}}let st=(()=>{class i{constructor(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-historial-creditos"]],inputs:{cliente:"cliente"},decls:3,vars:1,consts:[["responsiveLayout","scroll",3,"value"],["pTemplate","header"],["pTemplate","body"]],template:function(t,n){1&t&&(e.TgZ(0,"p-table",0),e.YNc(1,rt,7,0,"ng-template",1),e.YNc(2,at,8,6,"ng-template",2),e.qZA()),2&t&&e.Q6J("value",null==n.cliente?null:n.cliente.creditos)},dependencies:[d.jx,J.iA,l.H9],encapsulation:2}),i})();function lt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.dialogoRenovar=!0)}),e.TgZ(1,"div",15),e._UZ(2,"input",16),e.TgZ(3,"div",17),e._UZ(4,"input",18)(5,"input",19),e.qZA(),e.TgZ(6,"textarea",20),e._uU(7,"      "),e.qZA(),e.TgZ(8,"div",21),e._UZ(9,"button",22),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.creditoForm),e.xp6(2),e.Q6J("min",1),e.xp6(2),e.Q6J("min",0),e.xp6(1),e.Q6J("min",1),e.xp6(4),e.Q6J("disabled",t.creditoForm.invalid||t.loading)}}function ct(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"form",14),e.NdJ("ngSubmit",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.dialogoRenovar=!0)}),e.TgZ(1,"div",15),e._UZ(2,"input",23),e.TgZ(3,"div",17),e._UZ(4,"input",24)(5,"input",25),e.qZA(),e.TgZ(6,"textarea",20),e._uU(7,"      "),e.qZA(),e.TgZ(8,"div",21),e._UZ(9,"button",22),e.qZA()()()}if(2&i){const t=e.oxw(2);e.Q6J("formGroup",t.creditoManualForm),e.xp6(2),e.Q6J("min",1),e.xp6(2),e.Q6J("min",0),e.xp6(1),e.Q6J("min",1),e.xp6(4),e.Q6J("disabled",t.creditoManualForm.invalid)}}function pt(i,o){if(1&i&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div"),e._UZ(3,"button",10),e.qZA(),e.TgZ(4,"h3"),e._uU(5),e.ALo(6,"titlecase"),e.qZA()(),e.TgZ(7,"div",11),e._UZ(8,"p-selectButton",12),e.qZA(),e.YNc(9,lt,10,5,"form",13),e.YNc(10,ct,10,5,"form",13),e.qZA()),2&i){const t=e.oxw();e.xp6(5),e.hij("Renovando a ",e.lcZ(6,5,null==t.cliente?null:t.cliente.alias),""),e.xp6(3),e.Q6J("formControl",t.creditoManual)("options",t.optionsCredito),e.xp6(1),e.Q6J("ngIf",!t.creditoManual.value),e.xp6(1),e.Q6J("ngIf",t.creditoManual.value)}}function ut(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1," Renovar a "),e.TgZ(2,"b"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e._uU(5," por "),e.TgZ(6,"b"),e._uU(7),e.ALo(8,"currency"),e.qZA(),e._uU(9,"? "),e.qZA()),2&i){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,2,t.cliente.nombre)),e.xp6(4),e.Oqu(e.xi3(8,4,t.creditoForm.get("valor_credito").value,"$"))}}function dt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",26),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoRenovar=!1)}),e.qZA(),e.TgZ(1,"button",27),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmarRenovar(r.creditoManual.value))}),e.qZA()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("disabled",t.loading)}}function mt(i,o){1&i&&(e.TgZ(0,"div",28)(1,"div",29),e._UZ(2,"p-progressSpinner"),e.qZA()())}const gt=function(){return{width:"350px"}};let ft=(()=>{class i{constructor(t,n,r,s,u){this.mainService=t,this.router=n,this.aR=r,this.fb=s,this.messageService=u,this.loading=!0,this.hoy=f().utc(!0).format("DD/MM/YYYY"),this.dialogoRenovar=!1,this.creditoManual=this.fb.control(!1),this.optionsCredito=[{label:"Automatico",value:!1},{label:"Manual",value:!0}],this.creditoForm=this.fb.group({valor_credito:[null,[a.kI.required,a.kI.min(1)]],interes:[null,[a.kI.required,a.kI.min(0)]],total_cuotas:[null,[a.kI.required,a.kI.min(1)]],notas:[""],fecha_inicio:[this.hoy]}),this.creditoManualForm=this.fb.group({valor_credito:[null,[a.kI.required,a.kI.min(1)]],total_cuotas:[null,[a.kI.required,a.kI.min(1)]],valor_cuota:[null,[a.kI.required,a.kI.min(1)]],notas:[""],fecha_inicio:[this.hoy]})}ngOnInit(){this.aR.params.pipe((0,k.w)(({id:t})=>this.mainService.getCliente(t))).subscribe(t=>{this.cliente=t.cliente,this.loading=!1})}ngOnDestroy(){this.cliente=null,this.loading=!1}crearCredito(){this.creditoForm.valid&&this.mainService.addCredito(this.creditoForm.value,this.cliente.id).subscribe(t=>{!0===t?(this.dialogoRenovar=!1,this.messageService.add({severity:"success",summary:"SuccessFul",detail:"Cliente renovado",life:4e3}),this.router.navigateByUrl("/main/rutero"),this.loading=!1):(this.dialogoRenovar=!1,this.messageService.add({severity:"success",summary:"SuccessFul",detail:t.error,life:4e3}),this.loading=!1)})}addCreditoManual(){this.creditoManualForm.valid&&this.mainService.addCreditoManual(this.creditoManualForm.value,this.cliente.id).subscribe(t=>{t?(this.dialogoRenovar=!1,this.messageService.add({severity:"success",summary:"SuccessFul",detail:"Cliente renovado",life:4e3}),this.router.navigateByUrl("/main/rutero"),this.loading=!1):(this.dialogoRenovar=!1,this.messageService.add({severity:"success",summary:"SuccessFul",detail:t.error,life:4e3}),this.loading=!1)})}confirmarRenovar(t){return this.loading=!0,t?this.addCreditoManual():this.crearCredito()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(c.F0),e.Y36(c.gz),e.Y36(a.qu),e.Y36(d.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-renovar"]],features:[e._Bn([d.ez])],decls:11,vars:9,consts:[["class","card flex flex-column",4,"ngIf"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],["class","card",4,"ngIf"],[3,"cliente"],[1,"card","flex","flex-column"],[1,"flex","ms:flex-column","flex-wrap","justify-content-between","align-items-center"],["pButton","","label","Volver","routerLink","/main/renovaciones","icon","pi pi-arrow-left",1,"p-button-text","p-button-secondary"],[1,"flex","mb-3"],["optionLabel","label","optionValue","value",3,"formControl","options"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"flex","flex-column","gap-2"],["type","number","pInputText","","placeholder","Valor Credito, Eje: $1000000","formControlName","valor_credito",3,"min"],[1,"flex","flex-row","gap-1"],["pInputText","","type","number","placeholder","Interes, Eje: 20","formControlName","interes",1,"w-6",3,"min"],["pInputText","","type","number","placeholder","Cuotas, Eje: 20","formControlName","total_cuotas",1,"w-6",3,"min"],["type","text","pInputTextarea","","placeholder","Observaciones","formControlName","notas","rows","3",3,"autoResize"],[1,"flex","flex-wrap"],["pButton","","type","submit","label","Ingresar",1,"w-full",3,"disabled"],["type","number","pInputText","","placeholder","Valor Credito, Ejemplo: $1000000","formControlName","valor_credito",3,"min"],["pInputText","","type","number","placeholder","Valor de la cuota, Ejemplo: 100","formControlName","valor_cuota",1,"w-6",3,"min"],["pInputText","","type","number","placeholder","Cuotas, Ejemplo: 20","formControlName","total_cuotas",1,"w-6",3,"min"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si, Renovar",1,"p-button-text",3,"disabled","click"],[1,"card"],[1,"loading"]],template:function(t,n){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,pt,11,7,"div",0),e.TgZ(2,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.dialogoRenovar=s}),e.TgZ(3,"div",2),e._UZ(4,"i",3),e.YNc(5,ut,10,7,"span",4),e.qZA(),e.YNc(6,dt,2,1,"ng-template",5),e.qZA(),e.YNc(7,mt,3,0,"div",6),e.TgZ(8,"h3"),e._uU(9,"Historial de Creditos"),e.qZA(),e._UZ(10,"app-historial-creditos",7)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Akn(e.DdM(8,gt)),e.Q6J("visible",n.dialogoRenovar)("modal",!0),e.xp6(3),e.Q6J("ngIf",n.cliente),e.xp6(2),e.Q6J("ngIf",n.loading),e.xp6(3),e.Q6J("cliente",n.cliente))},dependencies:[l.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.oH,a.sg,a.u,c.rH,d.jx,C.H,h.o,ot.UN,g.Hq,b.FN,U.g,v.G,x.V,st,l.rS,l.H9],styles:["p-toast[_ngcontent-%COMP%]{margin-top:60px!important}.inputs[_ngcontent-%COMP%]{width:100%!important;display:block}.inputs[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%}"]}),i})();function _t(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2"),e._uU(4,"Inversion"),e.qZA()(),e.TgZ(5,"form",9),e._UZ(6,"input",10)(7,"textarea",11),e.TgZ(8,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoConfirmInversion=!0)}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.inversion),e.xp6(1),e.Q6J("min",0),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("disabled",t.loading)}}function vt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoConfirmInversion=!1)}),e.qZA(),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmarInversion())}),e.qZA()}}function ht(i,o){1&i&&(e.TgZ(0,"div",15)(1,"div",16),e._UZ(2,"p-progressSpinner"),e.qZA()())}const Ct=function(){return{width:"450px"}};let xt=(()=>{class i{get user(){return this.authService.user}constructor(t,n,r,s,u){this.fb=t,this.mainService=n,this.router=r,this.authService=s,this.messageService=u,this.loading=!1,this.fecha=f().utc(!0).format("DD/MM/YYYY"),this.dialogoConfirmInversion=!1,this.inversion=this.fb.group({valor:[null,[a.kI.required,a.kI.min(0)]],fecha:[this.fecha,a.kI.required],nota:[null],idRuta:[this.user.ruta]})}ngOnInit(){}crearInversion(){this.mainService.addInversion(this.inversion.value).subscribe(t=>{!0===t?this.router.navigateByUrl("/main/caja"):(this.messageService.add({severity:"error",summary:"Alerta",detail:t.error.errors.valor.msg,life:2e3}),this.dialogoConfirmInversion=!1,this.loading=!1)})}confirmarInversion(){this.loading=!0,this.crearInversion()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(m.J),e.Y36(c.F0),e.Y36(_.e),e.Y36(d.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-inversiones"]],features:[e._Bn([d.ez])],decls:9,vars:7,consts:[["class","main flex justify-content-center",4,"ngIf"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["class","card",4,"ngIf"],[1,"main","flex","justify-content-center"],[1,"card","surface-overlay"],[1,"title"],[1,"body","card-container","flex","flex-column","ustify-content-center","gap-2",3,"formGroup"],["pInputText","","formControlName","valor","type","number","placeholder","Eje: $3000.00",1,"w-full",3,"min"],["cols","30","rows","5","formControlName","nota","placeholder","Eje: Inversion por reajuste de caja","pInputTextarea","",3,"autoResize"],["pButton","","type","submit","label","Guardar",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","No, Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si, Agregar",1,"p-button-text",3,"click"],[1,"card"],[1,"loading"]],template:function(t,n){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,_t,9,4,"div",0),e.TgZ(2,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.dialogoConfirmInversion=s}),e.TgZ(3,"div",2),e._UZ(4,"i",3),e.TgZ(5,"span"),e._uU(6,"Esta seguro de agregar esta inversion?"),e.qZA()(),e.YNc(7,vt,2,0,"ng-template",4),e.qZA(),e.YNc(8,ht,3,0,"div",5)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Akn(e.DdM(6,Ct)),e.Q6J("visible",n.dialogoConfirmInversion)("modal",!0),e.xp6(6),e.Q6J("ngIf",n.loading))},dependencies:[l.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.sg,a.u,d.jx,C.H,h.o,g.Hq,b.FN,U.g,v.G,x.V],styles:[".main[_ngcontent-%COMP%]{margin-top:20px}.card[_ngcontent-%COMP%]{background-color:var(--surface-b);width:100%;padding:10px}"]}),i})();function bt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2"),e._uU(4,"Gasto"),e.qZA()(),e.TgZ(5,"form",9),e._UZ(6,"p-dropdown",10)(7,"input",11)(8,"textarea",12),e.TgZ(9,"button",13),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoInserGasto=!0)}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.addGasto),e.xp6(1),e.Q6J("options",t.gastos),e.xp6(2),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("disabled",t.loading)}}function Zt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoInserGasto=!1)}),e.qZA(),e.TgZ(1,"button",15),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmarGasto())}),e.qZA()}}function Tt(i,o){1&i&&(e.TgZ(0,"div",16)(1,"div",17),e._UZ(2,"p-progressSpinner"),e.qZA()())}const yt=function(){return{width:"300px"}};let At=(()=>{class i{get user(){return this.authService.user}constructor(t,n,r,s,u){this.mainService=t,this.router=n,this.fb=r,this.authService=s,this.messageService=u,this.gastos=[],this.loading=!1,this.hoy=f().utc(!0).format("DD/MM/YYYY"),this.addGasto=this.fb.group({valor:[null,a.kI.required],fecha:this.hoy,nota:[null],idRuta:this.user.ruta,gasto:["",a.kI.required]}),this.dialogoInserGasto=!1}ngOnInit(){this.mainService.getListaGastos().subscribe(t=>{this.gastos=t})}crearGasto(){this.mainService.addGasto(this.addGasto.value).subscribe(t=>{!0===t?this.router.navigateByUrl("/main/caja"):(this.messageService.add({severity:"error",summary:"Error",detail:t.error.errors.valor.msg,life:3e3}),this.dialogoInserGasto=!1,this.loading=!1)})}confirmarGasto(){this.addGasto.valid?(this.loading=!0,this.crearGasto()):(this.dialogoInserGasto=!1,this.messageService.add({severity:"warn",summary:"Alerta",detail:"Por favor termina de llenar el formulario",life:3e3}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(c.F0),e.Y36(a.qu),e.Y36(_.e),e.Y36(d.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gastos"]],features:[e._Bn([d.ez])],decls:9,vars:7,consts:[["class","main flex justify-content-center",4,"ngIf"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["class","card",4,"ngIf"],[1,"main","flex","justify-content-center"],[1,"card","surface-overlay"],[1,"title"],[1,"body","card-container","flex","flex-column","ustify-content-center","gap-2",3,"formGroup"],["optionValue","id","formControlName","gasto","optionLabel","gasto",3,"options"],["pInputText","","type","number","formControlName","valor","placeholder","Eje: 400",1,"w-full"],["pInputTextarea","","cols","30","rows","5","formControlName","nota","placeholder","Eje: Se cambio pastilla de freno",3,"autoResize"],["pButton","","label","Guardar",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"],[1,"card"],[1,"loading"]],template:function(t,n){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,bt,10,4,"div",0),e.TgZ(2,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.dialogoInserGasto=s}),e.TgZ(3,"div",2),e._UZ(4,"i",3),e.TgZ(5,"span"),e._uU(6,"Esta seguro de agregar este gasto?"),e.qZA()(),e.YNc(7,Zt,2,0,"ng-template",4),e.qZA(),e.YNc(8,Tt,3,0,"div",5)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Akn(e.DdM(6,yt)),e.Q6J("visible",n.dialogoInserGasto)("modal",!0),e.xp6(6),e.Q6J("ngIf",n.loading))},dependencies:[l.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.sg,a.u,d.jx,C.H,h.o,g.Hq,O.Lt,b.FN,U.g,v.G,x.V],styles:[".main[_ngcontent-%COMP%]{margin-top:20px}.card[_ngcontent-%COMP%]{background-color:var(--surface-b);border-radius:4px;width:100%;padding:10px}"]}),i})();function qt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"h2"),e._uU(4,"Retiro"),e.qZA()(),e.TgZ(5,"form",9),e._UZ(6,"input",10)(7,"textarea",11),e.TgZ(8,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoRetiro=!0)}),e.qZA()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.Q6J("formGroup",t.retiro),e.xp6(1),e.Q6J("min",0),e.xp6(1),e.Q6J("autoResize",!0),e.xp6(1),e.Q6J("disabled",t.loading)}}function St(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",13),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dialogoRetiro=!1)}),e.qZA(),e.TgZ(1,"button",14),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.confirmarRetiro())}),e.qZA()}}function kt(i,o){1&i&&(e.TgZ(0,"div",15)(1,"div",16),e._UZ(2,"p-progressSpinner"),e.qZA()())}const Ut=function(){return{width:"450px"}};let It=(()=>{class i{get user(){return this.authService.user}constructor(t,n,r,s,u){this.fb=t,this.mainService=n,this.router=r,this.authService=s,this.messageService=u,this.loading=!1,this.hoy=f().utc(!0).format("DD/MM/YYYY"),this.retiro=this.fb.group({valor:[null,[a.kI.required,a.kI.min(1)]],nota:[null],fecha:this.hoy,idRuta:this.user.ruta}),this.dialogoRetiro=!1}ngOnInit(){}crearRetiro(){this.mainService.addRetiro(this.retiro.value).subscribe(t=>{!0===t?this.router.navigateByUrl("/main/caja"):(this.dialogoRetiro=!1,this.messageService.add({severity:"error",summary:"Error",detail:t.error.errors.valor.msg,life:2e3}),this.loading=!1)})}confirmarRetiro(){this.retiro.valid?(this.loading=!0,this.crearRetiro()):(this.dialogoRetiro=!1,this.messageService.add({severity:"warn",summary:"Alerta",detail:"Por favor termine de llenar el formulario",life:3e3}))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(a.qu),e.Y36(m.J),e.Y36(c.F0),e.Y36(_.e),e.Y36(d.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-retiros"]],features:[e._Bn([d.ez])],decls:9,vars:7,consts:[["class","main flex justify-content-center",4,"ngIf"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["pTemplate","footer"],["class","card",4,"ngIf"],[1,"main","flex","justify-content-center"],[1,"card","surface-overlay"],[1,"title"],[1,"body","card-container","flex","flex-column","justify-content-center","gap-2",3,"formGroup"],["pInputText","","type","number","formControlName","valor","placeholder","Eje: $1000",1,"w-full",3,"min"],["cols","30","rows","5","formControlName","nota","placeholder","Eje: Retiro para Cuspoca","pInputTextarea","",3,"autoResize"],["pButton","","type","submit","label","Guardar",3,"disabled","click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"click"],[1,"card"],[1,"loading"]],template:function(t,n){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,qt,9,4,"div",0),e.TgZ(2,"p-dialog",1),e.NdJ("visibleChange",function(s){return n.dialogoRetiro=s}),e.TgZ(3,"div",2),e._UZ(4,"i",3),e.TgZ(5,"span"),e._uU(6,"Esta seguro de agregar este retiro?"),e.qZA()(),e.YNc(7,St,2,0,"ng-template",4),e.qZA(),e.YNc(8,kt,3,0,"div",5)),2&t&&(e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Akn(e.DdM(6,Ut)),e.Q6J("visible",n.dialogoRetiro)("modal",!0),e.xp6(6),e.Q6J("ngIf",n.loading))},dependencies:[l.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.qQ,a.sg,a.u,d.jx,C.H,h.o,g.Hq,b.FN,U.g,v.G,x.V],styles:[".main[_ngcontent-%COMP%]{margin-top:20px}.card[_ngcontent-%COMP%]{background-color:var(--surface-b);border-radius:4px;width:100%;padding:10px}"]}),i})();function Jt(i,o){if(1&i&&(e.TgZ(0,"span"),e._uU(1," \xbfEsta seguro de actualizar el pago de "),e.TgZ(2,"b"),e._uU(3),e.ALo(4,"titlecase"),e.qZA(),e._uU(5,"? "),e.qZA()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,1,t.pago.cliente.nombre))}}function Mt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"button",20),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.digalogConfirm=!1)}),e.qZA(),e.TgZ(1,"button",21),e.NdJ("click",function(){e.CHM(t);const r=e.oxw(2);return e.KtG(r.confirmActualizar())}),e.qZA()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("disabled",t.loading)}}const wt=function(){return["/main/verificados"]},Yt=function(){return{color:"var(--primary-500)"}},Nt=function(i){return["/main/cliente",i]},Ot=function(){return{width:"450px"}};function jt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),e._UZ(4,"button",5),e.qZA(),e.TgZ(5,"div")(6,"h3",6),e._uU(7),e.ALo(8,"titlecase"),e.TgZ(9,"small"),e._uU(10),e.ALo(11,"titlecase"),e.qZA(),e._UZ(12,"i",7),e.qZA()()(),e._UZ(13,"p-divider"),e.TgZ(14,"div")(15,"h3"),e._uU(16),e.ALo(17,"currency"),e.qZA()(),e.TgZ(18,"div",8)(19,"div",9)(20,"div",10),e._uU(21,"Nuevo Pago"),e.qZA(),e.TgZ(22,"div",10),e._UZ(23,"input",11),e.qZA(),e.TgZ(24,"div",10)(25,"button",12),e.NdJ("click",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.digalogConfirm=!0)}),e.qZA()()()()(),e._UZ(26,"p-divider"),e.TgZ(27,"p-dialog",13),e.NdJ("visibleChange",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.digalogConfirm=r)}),e.TgZ(28,"div",14),e._UZ(29,"i",15),e.YNc(30,Jt,6,3,"span",16),e.qZA(),e.YNc(31,Mt,2,1,"ng-template",17),e.qZA(),e.TgZ(32,"div",18)(33,"h3"),e._uU(34,"Historial de pagos"),e.qZA(),e._UZ(35,"app-historial-pagos",19),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("routerLink",e.DdM(22,wt)),e.xp6(3),e.hij(" ",e.lcZ(8,15,t.pago.cliente.nombre)," "),e.xp6(3),e.hij(" (",e.lcZ(11,17,t.pago.cliente.alias),") "),e.xp6(2),e.Q6J("ngStyle",e.DdM(23,Yt))("routerLink",e.VKq(24,Nt,t.pago.cliente._id)),e.xp6(4),e.hij("Pago Actual: ",e.xi3(17,19,t.pago.valor,"$"),""),e.xp6(7),e.Q6J("formControl",t.valor),e.xp6(2),e.Q6J("disabled",t.loading),e.xp6(2),e.Akn(e.DdM(26,Ot)),e.Q6J("visible",t.digalogConfirm)("modal",!0),e.xp6(3),e.Q6J("ngIf",t.pago),e.xp6(5),e.Q6J("idCredito",t.pago.credito._id)("idCliente",t.pago.cliente._id)}}let Lt=(()=>{class i{constructor(t,n,r,s,u){this.mainService=t,this.activateRoute=n,this.fb=r,this.router=s,this.messageService=u,this.valor=this.fb.control(0,[a.kI.required]),this.loading=!1,this.digalogConfirm=!1}ngOnInit(){this.activateRoute.params.pipe((0,k.w)(({id:t})=>this.mainService.getPago(t))).subscribe(t=>{this.pago=t.pago})}pagar(){let t={fecha:f().utc(!0).format("DD/MM/YYYY hh:mm a"),valor:this.valor.value};this.mainService.updatePago(t,this.pago.id).subscribe(n=>{!0===n?this.router.navigateByUrl("/main/verificados"):(this.messageService.add({severity:"error",summary:"Error",detail:n.error.msg,life:4e3}),this.digalogConfirm=!1,this.loading=!1)})}confirmActualizar(){if(!this.valor.valid)return this.digalogConfirm=!1,this.messageService.add({severity:"warn",summary:"Alerta",detail:"Por favor ingrese un monto valido",life:3e3});this.loading=!0,this.pagar()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(m.J),e.Y36(c.gz),e.Y36(a.qu),e.Y36(c.F0),e.Y36(d.ez))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-aditar-pago"]],features:[e._Bn([d.ez])],decls:2,vars:1,consts:[["class","card",4,"ngIf"],[1,"card"],[1,"contenedor","p-1","card-container","flex","flex-column","justify-content-center","gap-2"],[1,"flex","flex-column"],[1,"mb-2"],["pButton","","icon","pi pi-arrow-left","label","Volver",1,"p-button-info","p-button-sm","p-button-text",3,"routerLink"],[1,"pointer"],[1,"pi","pi-cog",3,"ngStyle","routerLink"],[1,"content"],[1,"grid"],[1,"col"],["type","number","pInputText","","placeholder","Ingresa el nuevo pago",3,"formControl"],["pButton","","label","Pagar",3,"disabled","click"],["header","Confirmar",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["pTemplate","footer"],[1,"historial"],[3,"idCredito","idCliente"],["pButton","","pRipple","","icon","pi pi-times","label","Cancelar",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Si",1,"p-button-text",3,"disabled","click"]],template:function(t,n){1&t&&(e._UZ(0,"p-toast"),e.YNc(1,jt,36,27,"div",0)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.pago))},dependencies:[l.O5,l.PC,a.Fj,a.wV,a.JJ,a.oH,c.rH,d.jx,C.H,h.o,g.Hq,b.FN,x.V,M.i,j,l.rS,l.H9]}),i})();var L=p(9300);let Z=(()=>{class i{constructor(){this.config={ripple:!0,inputStyle:"outlined",menuMode:"static",colorScheme:"light",theme:"lara-light-indigo",scale:14},this.state={staticMenuDesktopInactive:!1,overlayMenuActive:!1,profileSidebarVisible:!1,configSidebarVisible:!1,staticMenuMobileActive:!1,menuHoverActive:!1},this.configUpdate=new A.x,this.overlayOpen=new A.x,this.configUpdate$=this.configUpdate.asObservable(),this.overlayOpen$=this.overlayOpen.asObservable()}onMenuToggle(){this.isOverlay()&&(this.state.overlayMenuActive=!this.state.overlayMenuActive,this.state.overlayMenuActive&&this.overlayOpen.next(null)),this.isDesktop()?this.state.staticMenuDesktopInactive=!this.state.staticMenuDesktopInactive:(this.state.staticMenuMobileActive=!this.state.staticMenuMobileActive,this.state.staticMenuMobileActive&&this.overlayOpen.next(null))}onOverlaySubmenuOpen(){this.overlayOpen.next(null)}showProfileSidebar(){this.state.profileSidebarVisible=!this.state.profileSidebarVisible,this.state.profileSidebarVisible&&this.overlayOpen.next(null)}showConfigSidebar(){this.state.configSidebarVisible=!0}isOverlay(){return"overlay"===this.config.menuMode}isDesktop(){return window.innerWidth>991}isMobile(){return!this.isDesktop()}onConfigUpdate(){this.configUpdate.next(this.config)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var T=p(7340);let F=(()=>{class i{constructor(){this.menuSource=new A.x,this.resetSource=new A.x,this.menuSource$=this.menuSource.asObservable(),this.resetSource$=this.resetSource.asObservable()}onMenuStateChange(t){this.menuSource.next(t)}reset(){this.resetSource.next(!0)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ft=["app-menuitem",""];function Qt(i,o){if(1&i&&(e.TgZ(0,"div",4),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",t.item.label," ")}}function Rt(i,o){1&i&&e._UZ(0,"i",9)}function Pt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a",5),e.NdJ("click",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.itemClick(r))}),e._UZ(1,"i",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.YNc(4,Rt,1,0,"i",8),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",t.item.class),e.uIk("href",t.item.url,e.LSH)("target",t.item.target),e.xp6(1),e.Q6J("ngClass",t.item.icon),e.xp6(2),e.Oqu(t.item.label),e.xp6(1),e.Q6J("ngIf",t.item.items)}}function Ht(i,o){1&i&&e._UZ(0,"i",9)}const Gt=function(){return{exact:!0}};function Bt(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"a",10),e.NdJ("click",function(r){e.CHM(t);const s=e.oxw();return e.KtG(s.itemClick(r))}),e._UZ(1,"i",6),e.TgZ(2,"span",7),e._uU(3),e.qZA(),e.YNc(4,Ht,1,0,"i",8),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngClass",t.item.class)("routerLink",t.item.routerLink)("routerLinkActiveOptions",t.item.routerLinkOptions||e.DdM(14,Gt))("fragment",t.item.fragment)("queryParamsHandling",t.item.queryParamsHandling)("preserveFragment",t.item.preserveFragment)("skipLocationChange",t.item.skipLocationChange)("replaceUrl",t.item.replaceUrl)("state",t.item.state)("queryParams",t.item.queryParams),e.uIk("target",t.item.target),e.xp6(1),e.Q6J("ngClass",t.item.icon),e.xp6(2),e.Oqu(t.item.label),e.xp6(1),e.Q6J("ngIf",t.item.items)}}function Et(i,o){if(1&i&&e._UZ(0,"li",12),2&i){const t=o.$implicit,n=o.index,r=e.oxw(2);e.Tol(t.badgeClass),e.Q6J("item",t)("index",n)("parentKey",r.key)}}function Vt(i,o){if(1&i&&(e.TgZ(0,"ul"),e.YNc(1,Et,1,5,"ng-template",11),e.qZA()),2&i){const t=e.oxw();e.Q6J("@children",t.submenuAnimation),e.xp6(1),e.Q6J("ngForOf",t.item.items)}}let Dt=(()=>{class i{constructor(t,n,r,s){this.layoutService=t,this.cd=n,this.router=r,this.menuService=s,this.active=!1,this.key="",this.menuSourceSubscription=this.menuService.menuSource$.subscribe(u=>{Promise.resolve(null).then(()=>{u.routeEvent?this.active=!(u.key!==this.key&&!u.key.startsWith(this.key+"-")):u.key!==this.key&&!u.key.startsWith(this.key+"-")&&(this.active=!1)})}),this.menuResetSubscription=this.menuService.resetSource$.subscribe(()=>{this.active=!1}),this.router.events.pipe((0,L.h)(u=>u instanceof c.m2)).subscribe(u=>{this.item.routerLink&&this.updateActiveStateFromRoute()})}ngOnInit(){this.key=this.parentKey?this.parentKey+"-"+this.index:String(this.index),this.item.routerLink&&this.updateActiveStateFromRoute()}updateActiveStateFromRoute(){this.router.isActive(this.item.routerLink[0],{paths:"exact",queryParams:"ignored",matrixParams:"ignored",fragment:"ignored"})&&this.menuService.onMenuStateChange({key:this.key,routeEvent:!0})}itemClick(t){this.item.disabled?t.preventDefault():(this.item.command&&this.item.command({originalEvent:t,item:this.item}),this.item.items&&(this.active=!this.active),this.menuService.onMenuStateChange({key:this.key}))}get submenuAnimation(){return this.root||this.active?"expanded":"collapsed"}ngOnDestroy(){this.menuSourceSubscription&&this.menuSourceSubscription.unsubscribe(),this.menuResetSubscription&&this.menuResetSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(e.sBO),e.Y36(c.F0),e.Y36(F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["","app-menuitem",""]],hostVars:4,hostBindings:function(t,n){2&t&&e.ekj("layout-root-menuitem",n.root)("active-menuitem",n.active)},inputs:{item:"item",index:"index",root:"root",parentKey:"parentKey"},attrs:Ft,decls:5,vars:4,consts:[["class","layout-menuitem-root-text",4,"ngIf"],["tabindex","0","pRipple","",3,"ngClass","click",4,"ngIf"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click",4,"ngIf"],[4,"ngIf"],[1,"layout-menuitem-root-text"],["tabindex","0","pRipple","",3,"ngClass","click"],[1,"layout-menuitem-icon",3,"ngClass"],[1,"layout-menuitem-text"],["class","pi pi-fw pi-angle-down layout-submenu-toggler",4,"ngIf"],[1,"pi","pi-fw","pi-angle-down","layout-submenu-toggler"],["routerLinkActive","active-route","tabindex","0","pRipple","",3,"ngClass","routerLink","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","queryParams","click"],["ngFor","",3,"ngForOf"],["app-menuitem","",3,"item","index","parentKey"]],template:function(t,n){1&t&&(e.ynx(0),e.YNc(1,Qt,2,1,"div",0),e.YNc(2,Pt,5,6,"a",1),e.YNc(3,Bt,5,15,"a",2),e.YNc(4,Vt,2,2,"ul",3),e.BQk()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.root&&!1!==n.item.visible),e.xp6(1),e.Q6J("ngIf",(!n.item.routerLink||n.item.items)&&!1!==n.item.visible),e.xp6(1),e.Q6J("ngIf",n.item.routerLink&&!n.item.items&&!1!==n.item.visible),e.xp6(1),e.Q6J("ngIf",n.item.items&&!1!==n.item.visible))},dependencies:[l.mk,l.sg,l.O5,c.rH,c.Od,C.H,i],encapsulation:2,data:{animation:[(0,T.X$)("children",[(0,T.SB)("collapsed",(0,T.oB)({height:"0"})),(0,T.SB)("expanded",(0,T.oB)({height:"*"})),(0,T.eR)("collapsed <=> expanded",(0,T.jt)("400ms cubic-bezier(0.86, 0, 0.07, 1)"))])]}}),i})();function zt(i,o){if(1&i&&e._UZ(0,"li",4),2&i){const t=e.oxw(),r=t.index;e.Q6J("item",t.$implicit)("index",r)("root",!0)}}function $t(i,o){1&i&&e._UZ(0,"li",5)}function Kt(i,o){if(1&i&&(e.ynx(0),e.YNc(1,zt,1,3,"li",2),e.YNc(2,$t,1,0,"li",3),e.BQk()),2&i){const t=o.$implicit;e.xp6(1),e.Q6J("ngIf",!t.separator),e.xp6(1),e.Q6J("ngIf",t.separator)}}let Xt=(()=>{class i{constructor(t){this.layoutService=t,this.model=[]}ngOnInit(){this.model=[{items:[{label:"Rutero",icon:"pi pi-fw pi-list",routerLink:["rutero"]},{label:"Verificados",icon:"pi pi-fw pi-check",routerLink:["verificados"]},{label:"Renovaciones",icon:"pi pi-fw pi-dollar",routerLink:["renovaciones"]},{label:"Cliente Nuevo",icon:"pi pi-fw pi-user-plus",routerLink:["cliente-nuevo"]},{label:"Oficina",icon:"pi pi-fw pi-file-excel",routerLink:["oficina"]},{label:"Caja",icon:"pi pi-fw pi-chart-bar",routerLink:["caja"]}]}]}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-menu"]],decls:2,vars:1,consts:[[1,"layout-menu"],[4,"ngFor","ngForOf"],["app-menuitem","",3,"item","index","root",4,"ngIf"],["class","menu-separator",4,"ngIf"],["app-menuitem","",3,"item","index","root"],[1,"menu-separator"]],template:function(t,n){1&t&&(e.TgZ(0,"ul",0),e.YNc(1,Kt,3,2,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.model))},dependencies:[l.sg,l.O5,Dt],encapsulation:2}),i})(),Q=(()=>{class i{constructor(t,n){this.layoutService=t,this.el=n}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-sidebar"]],decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"app-menu")},dependencies:[Xt],encapsulation:2}),i})();const Wt=["menubutton"],ei=["topbarmenubutton"],ti=["topbarmenu"],ii=function(i){return{"layout-topbar-menu-mobile-active":i}};let R=(()=>{class i{constructor(t,n,r){this.layoutService=t,this.authService=n,this.router=r}onConfigButtonClick(){this.layoutService.showConfigSidebar()}logout(){this.authService.logout()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(_.e),e.Y36(c.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-topbar"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Wt,5),e.Gf(ei,5),e.Gf(ti,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.menuButton=r.first),e.iGM(r=e.CRH())&&(n.topbarMenuButton=r.first),e.iGM(r=e.CRH())&&(n.menu=r.first)}},decls:21,vars:4,consts:[[1,"layout-topbar"],["routerLink","/admin",1,"layout-topbar-logo"],["alt","logo",3,"src"],[1,"p-link","layout-menu-button","layout-topbar-button",3,"click"],["menubutton",""],[1,"pi","pi-bars"],[1,"p-link","layout-topbar-menu-button","layout-topbar-button",3,"click"],["topbarmenubutton",""],[1,"pi","pi-ellipsis-v"],[1,"layout-topbar-menu",3,"ngClass"],["topbarmenu",""],[1,"p-link","layout-topbar-button",3,"click"],[1,"pi","pi-cog"],[1,"pi","pi-sign-out"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"a",1),e._UZ(2,"img",2),e.TgZ(3,"span"),e._uU(4,"NathyApp"),e.qZA()(),e.TgZ(5,"button",3,4),e.NdJ("click",function(){return n.layoutService.onMenuToggle()}),e._UZ(7,"i",5),e.qZA(),e.TgZ(8,"button",6,7),e.NdJ("click",function(){return n.layoutService.showProfileSidebar()}),e._UZ(10,"i",8),e.qZA(),e.TgZ(11,"div",9,10)(13,"button",11),e.NdJ("click",function(){return n.onConfigButtonClick()}),e._UZ(14,"i",12),e.TgZ(15,"span"),e._uU(16,"Configuraci\xf3n"),e.qZA()(),e.TgZ(17,"button",11),e.NdJ("click",function(){return n.logout()}),e._UZ(18,"i",13),e.TgZ(19,"span"),e._uU(20,"Salir"),e.qZA()()()()),2&t&&(e.xp6(2),e.MGl("src","assets/layout/images/","light"===n.layoutService.config.colorScheme?"logo-dark":"logo-white",".svg",e.LSH),e.xp6(9),e.Q6J("ngClass",e.VKq(2,ii,n.layoutService.state.profileSidebarVisible)))},dependencies:[l.mk,c.rH],encapsulation:2}),i})();var P=p(3214);const ni=function(i){return{"text-primary-500":i}};function oi(i,o){if(1&i&&e._UZ(0,"i",11),2&i){const t=o.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(1,ni,t===n.scale))}}let ri=(()=>{class i{constructor(t,n){this.layoutService=t,this.menuService=n,this.minimal=!1,this.scales=[12,13,14,15,16],this.changeTheme(localStorage.getItem("theme")||"lara-light-indigo",localStorage.getItem("colorScheme")||"light")}ngOnInit(){}get visible(){return this.layoutService.state.configSidebarVisible}set visible(t){this.layoutService.state.configSidebarVisible=t}get scale(){return this.layoutService.config.scale}set scale(t){this.layoutService.config.scale=t}get menuMode(){return this.layoutService.config.menuMode}set menuMode(t){this.layoutService.config.menuMode=t}get inputStyle(){return this.layoutService.config.inputStyle}set inputStyle(t){this.layoutService.config.inputStyle=t}get ripple(){return this.layoutService.config.ripple}set ripple(t){this.layoutService.config.ripple=t}onConfigButtonClick(){this.layoutService.showConfigSidebar()}changeTheme(t,n){const s=document.getElementById("theme-css").getAttribute("href").replace(this.layoutService.config.theme,t);localStorage.setItem("theme",t),localStorage.setItem("colorScheme",n),this.replaceThemeLink(s,()=>{this.layoutService.config.theme=t,this.layoutService.config.colorScheme=n,this.layoutService.onConfigUpdate()})}replaceThemeLink(t,n){const r="theme-css",s=document.getElementById("theme-css"),u=s.cloneNode(!0);u.setAttribute("href",t),u.setAttribute("id",r+"-clone"),s.parentNode.insertBefore(u,s.nextSibling),u.addEventListener("load",()=>{s.remove(),u.setAttribute("id",r),n()})}decrementScale(){this.scale--,this.applyScale()}incrementScale(){this.scale++,this.applyScale()}applyScale(){document.documentElement.style.fontSize=this.scale+"px"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(F))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-config"]],inputs:{minimal:"minimal"},decls:17,vars:5,consts:[["position","right","styleClass","layout-config-sidebar w-20rem",3,"visible","transitionOptions","visibleChange"],[1,"flex","align-items-center"],["icon","pi pi-minus","type","button","pButton","",1,"p-button-text","p-button-rounded","w-2rem","h-2rem","mr-2",3,"disabled","click"],[1,"flex","gap-2","align-items-center"],["class","pi pi-circle-fill text-300",3,"ngClass",4,"ngFor","ngForOf"],["icon","pi pi-plus","type","button","pButton","",1,"p-button-text","p-button-rounded","w-2rem","h-2rem","ml-2",3,"disabled","click"],[1,"grid"],[1,"col-3"],[1,"p-link","w-2rem","h-2rem",3,"click"],["src","assets/layout/images/themes/lara-light-indigo.png","alt","Lara Light Indigo",1,"w-2rem","h-2rem"],["src","assets/layout/images/themes/lara-dark-indigo.png","alt","Lara Dark Indigo",1,"w-2rem","h-2rem"],[1,"pi","pi-circle-fill","text-300",3,"ngClass"]],template:function(t,n){1&t&&(e.TgZ(0,"p-sidebar",0),e.NdJ("visibleChange",function(s){return n.visible=s}),e.TgZ(1,"h5"),e._uU(2,"Zoom"),e.qZA(),e.TgZ(3,"div",1)(4,"button",2),e.NdJ("click",function(){return n.decrementScale()}),e.qZA(),e.TgZ(5,"div",3),e.YNc(6,oi,1,3,"i",4),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.incrementScale()}),e.qZA()(),e.TgZ(8,"h5"),e._uU(9,"Tema"),e.qZA(),e.TgZ(10,"div",6)(11,"div",7)(12,"button",8),e.NdJ("click",function(){return n.changeTheme("lara-light-indigo","light")}),e._UZ(13,"img",9),e.qZA()(),e.TgZ(14,"div",7)(15,"button",8),e.NdJ("click",function(){return n.changeTheme("lara-dark-indigo","dark")}),e._UZ(16,"img",10),e.qZA()()()()),2&t&&(e.Q6J("visible",n.visible)("transitionOptions",".3s cubic-bezier(0, 0, 0.2, 1)"),e.xp6(4),e.Q6J("disabled",n.scale===n.scales[0]),e.xp6(2),e.Q6J("ngForOf",n.scales),e.xp6(1),e.Q6J("disabled",n.scale===n.scales[n.scales.length-1]))},dependencies:[l.mk,l.sg,P.Y,g.Hq],encapsulation:2}),i})(),ai=(()=>{class i{constructor(t){this.layoutService=t,this.year=(new Date).getFullYear()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-footer"]],decls:5,vars:2,consts:[[1,"layout-footer"],["alt","Logo","height","20",1,"mr-2",3,"src"],[1,"font-medium","ml-2"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"img",1),e._uU(2," by "),e.TgZ(3,"span",2),e._uU(4),e.qZA()()),2&t&&(e.xp6(1),e.MGl("src","assets/layout/images/","light"===n.layoutService.config.colorScheme?"logo-dark":"logo-white",".svg",e.LSH),e.xp6(3),e.hij(" David Cuspoca \xa9 ",n.year,""))},encapsulation:2}),i})();const si=[{path:"",component:(()=>{class i{constructor(t,n,r){this.layoutService=t,this.renderer=n,this.router=r,this.overlayMenuOpenSubscription=this.layoutService.overlayOpen$.subscribe(()=>{this.menuOutsideClickListener||(this.menuOutsideClickListener=this.renderer.listen("document","click",s=>{!(this.appSidebar.el.nativeElement.isSameNode(s.target)||this.appSidebar.el.nativeElement.contains(s.target)||this.appTopbar.menuButton.nativeElement.isSameNode(s.target)||this.appTopbar.menuButton.nativeElement.contains(s.target))&&this.hideMenu()})),this.profileMenuOutsideClickListener||(this.profileMenuOutsideClickListener=this.renderer.listen("document","click",s=>{!(this.appTopbar.menu.nativeElement.isSameNode(s.target)||this.appTopbar.menu.nativeElement.contains(s.target)||this.appTopbar.topbarMenuButton.nativeElement.isSameNode(s.target)||this.appTopbar.topbarMenuButton.nativeElement.contains(s.target))&&this.hideProfileMenu()})),this.layoutService.state.staticMenuMobileActive&&this.blockBodyScroll()}),this.router.events.pipe((0,L.h)(s=>s instanceof c.m2)).subscribe(()=>{this.hideMenu(),this.hideProfileMenu()})}hideMenu(){this.layoutService.state.overlayMenuActive=!1,this.layoutService.state.staticMenuMobileActive=!1,this.layoutService.state.menuHoverActive=!1,this.menuOutsideClickListener&&(this.menuOutsideClickListener(),this.menuOutsideClickListener=null),this.unblockBodyScroll()}hideProfileMenu(){this.layoutService.state.profileSidebarVisible=!1,this.profileMenuOutsideClickListener&&(this.profileMenuOutsideClickListener(),this.profileMenuOutsideClickListener=null)}blockBodyScroll(){document.body.classList?document.body.classList.add("blocked-scroll"):document.body.className+=" blocked-scroll"}unblockBodyScroll(){document.body.classList?document.body.classList.remove("blocked-scroll"):document.body.className=document.body.className.replace(new RegExp("(^|\\b)"+"blocked-scroll".split(" ").join("|")+"(\\b|$)","gi")," ")}get containerClass(){return{"layout-theme-light":"light"===this.layoutService.config.colorScheme,"layout-theme-dark":"dark"===this.layoutService.config.colorScheme,"layout-overlay":"overlay"===this.layoutService.config.menuMode,"layout-static":"static"===this.layoutService.config.menuMode,"layout-slim":"slim"===this.layoutService.config.menuMode,"layout-horizontal":"horizontal"===this.layoutService.config.menuMode,"layout-static-inactive":this.layoutService.state.staticMenuDesktopInactive&&"static"===this.layoutService.config.menuMode,"layout-overlay-active":this.layoutService.state.overlayMenuActive,"layout-mobile-active":this.layoutService.state.staticMenuMobileActive,"p-input-filled":"filled"===this.layoutService.config.inputStyle,"p-ripple-disabled":!this.layoutService.config.ripple}}ngOnDestroy(){this.overlayMenuOpenSubscription&&this.overlayMenuOpenSubscription.unsubscribe(),this.menuOutsideClickListener&&this.menuOutsideClickListener()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Z),e.Y36(e.Qsj),e.Y36(c.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-layout"]],viewQuery:function(t,n){if(1&t&&(e.Gf(Q,5),e.Gf(R,5)),2&t){let r;e.iGM(r=e.CRH())&&(n.appSidebar=r.first),e.iGM(r=e.CRH())&&(n.appTopbar=r.first)}},decls:10,vars:1,consts:[[1,"layout-wrapper",3,"ngClass"],[1,"layout-sidebar"],[1,"layout-main-container"],[1,"layout-main"],[1,"layout-mask"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"app-topbar"),e.TgZ(2,"div",1),e._UZ(3,"app-sidebar"),e.qZA(),e.TgZ(4,"div",2)(5,"div",3),e._UZ(6,"router-outlet"),e.qZA(),e._UZ(7,"app-footer"),e.qZA(),e._UZ(8,"app-config")(9,"div",4),e.qZA()),2&t&&e.Q6J("ngClass",n.containerClass)},dependencies:[l.mk,c.lC,ri,R,ai,Q],encapsulation:2}),i})(),children:[{path:"rutero",component:le},{path:"renovaciones",component:de},{path:"cliente-nuevo",component:Ce},{path:"caja",component:ze},{path:"verificados",component:nt},{path:"renovar/:id",component:ft},{path:"credito/:id",component:Ye},{path:"cliente/:id",component:He},{path:"pago/:id",component:Me},{path:"pago/editar/:id",component:Lt},{path:"oficina",component:we,children:[{path:"inversiones",component:xt},{path:"gastos",component:At},{path:"retiros",component:It},{path:"**",redirectTo:"gastos"}]},{path:"**",redirectTo:"rutero"}]}];let li=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(si),c.Bz]}),i})();var ci=p(4982),pi=p(7913);let ui=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,a.u5,P.l,N.cc,g.hJ,pi.Iu]}),i})();var di=p(529);let mi=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[l.ez,di.JF,a.UX,li,ci.W,ui]}),i})()}}]);